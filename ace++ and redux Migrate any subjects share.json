{"last_node_id":53,"last_link_id":78,"nodes":[{"id":3,"type":"VAELoader","pos":{"0":2285.210693359375,"1":115.31696319580078},"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[7,14],"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":9,"type":"ConditioningZeroOut","pos":{"0":2314,"1":31},"size":{"0":317.4000244140625,"1":26},"flags":{},"order":18,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":5}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[6],"slot_index":0}],"properties":{"Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":12,"type":"VAEDecode","pos":{"0":3031.836181640625,"1":-176.23963928222656},"size":{"0":210,"1":46},"flags":{},"order":31,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":13},{"name":"vae","type":"VAE","link":14}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[51],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":39,"type":"SaveImage","pos":{"0":3764,"1":75},"size":{"0":315,"1":270},"flags":{},"order":33,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":54}],"outputs":[],"properties":{},"widgets_values":["ComfyUI"]},{"id":31,"type":"ImageToMask","pos":{"0":3509,"1":632},"size":{"0":315,"1":58},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":34}],"outputs":[{"name":"MASK","type":"MASK","links":[37],"slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":24,"type":"ImageConcanate","pos":{"0":2344,"1":380},"size":{"0":315,"1":102},"flags":{},"order":25,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":25},{"name":"image2","type":"IMAGE","link":68}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[36,56],"slot_index":0}],"properties":{"Node name for S&R":"ImageConcanate"},"widgets_values":["right",true]},{"id":26,"type":"EmptyImage","pos":{"0":2302,"1":552},"size":{"0":315,"1":130},"flags":{},"order":20,"mode":0,"inputs":[{"name":"width","type":"INT","link":69,"widget":{"name":"width"}},{"name":"height","type":"INT","link":70,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[32],"slot_index":0}],"properties":{"Node name for S&R":"EmptyImage"},"widgets_values":[512,512,1,0]},{"id":22,"type":"GrowMaskWithBlur","pos":{"0":2321,"1":826},"size":{"0":315,"1":246},"flags":{},"order":10,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":55}],"outputs":[{"name":"mask","type":"MASK","links":[30],"slot_index":0},{"name":"mask_inverted","type":"MASK","links":null}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[40,0,true,false,20,1,1,false]},{"id":27,"type":"MaskToImage","pos":{"0":2761,"1":869},"size":{"0":264.5999755859375,"1":26},"flags":{},"order":13,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":30}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[31],"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":47,"type":"GetImageSize+","pos":{"0":1293,"1":600},"size":{"0":214.20001220703125,"1":66},"flags":{},"order":16,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":63}],"outputs":[{"name":"width","type":"INT","links":[64,69,71],"slot_index":0},{"name":"height","type":"INT","links":[65,70,72],"slot_index":1},{"name":"count","type":"INT","links":null}],"properties":{"Node name for S&R":"GetImageSize+"}},{"id":48,"type":"SolidMask","pos":{"0":1647,"1":538},"size":[315,106],"flags":{},"order":19,"mode":0,"inputs":[{"name":"width","type":"INT","link":64,"widget":{"name":"width"}},{"name":"height","type":"INT","link":65,"widget":{"name":"height"}}],"outputs":[{"name":"MASK","type":"MASK","links":[66],"slot_index":0}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[1,512,512]},{"id":11,"type":"DifferentialDiffusion","pos":{"0":2210,"1":-399},"size":{"0":277.20001220703125,"1":26},"flags":{},"order":14,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":48}],"outputs":[{"name":"MODEL","type":"MODEL","links":[9],"slot_index":0}],"properties":{"Node name for S&R":"DifferentialDiffusion"},"widgets_values":[]},{"id":10,"type":"KSampler","pos":{"0":2673,"1":-297},"size":{"0":315,"1":262},"flags":{},"order":30,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":9},{"name":"positive","type":"CONDITIONING","link":10},{"name":"negative","type":"CONDITIONING","link":11},{"name":"latent_image","type":"LATENT","link":12}],"outputs":[{"name":"LATENT","type":"LATENT","links":[13],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[934901705925029,"randomize",25,1,"euler","normal",1]},{"id":1,"type":"UNETLoader","pos":{"0":1033,"1":-462},"size":{"0":315,"1":82},"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[44],"slot_index":0}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["flux1-fill-dev.safetensors","default"]},{"id":7,"type":"FluxGuidance","pos":{"0":2292,"1":-90},"size":{"0":317.4000244140625,"1":58},"flags":{},"order":17,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":3}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[73],"slot_index":0}],"properties":{"Node name for S&R":"FluxGuidance"},"widgets_values":[35]},{"id":8,"type":"InpaintModelConditioning","pos":{"0":2690,"1":109},"size":{"0":315,"1":138},"flags":{},"order":29,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":74},{"name":"negative","type":"CONDITIONING","link":6},{"name":"vae","type":"VAE","link":7},{"name":"pixels","type":"IMAGE","link":36},{"name":"mask","type":"MASK","link":37}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[10],"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[11],"slot_index":1},{"name":"latent","type":"LATENT","links":[12],"slot_index":2}],"properties":{"Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":53,"type":"CLIPVisionLoader","pos":{"0":1334,"1":-190},"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[77]}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["sigclip_vision_patch14_384.safetensors"]},{"id":16,"type":"ImageResizeKJ","pos":{"0":1761,"1":755},"size":{"0":315,"1":266},"flags":{},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":16},{"name":"get_image_size","type":"IMAGE","link":null,"shape":7},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"shape":7},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"shape":7}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[25],"slot_index":0},{"name":"width","type":"INT","links":[52],"slot_index":1},{"name":"height","type":"INT","links":[53],"slot_index":2}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[0,1024,"nearest-exact",true,2,0,0,"disabled"]},{"id":49,"type":"MaskToImage","pos":{"0":1609,"1":349},"size":{"0":264.5999755859375,"1":26},"flags":{},"order":21,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":66}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[67],"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":46,"type":"Image Overlay","pos":{"0":1914,"1":218},"size":[315,290],"flags":{},"order":23,"mode":0,"inputs":[{"name":"base_image","type":"IMAGE","link":67},{"name":"overlay_image","type":"IMAGE","link":62},{"name":"optional_mask","type":"MASK","link":null,"shape":7},{"name":"width","type":"INT","link":71,"widget":{"name":"width"}},{"name":"height","type":"INT","link":72,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[68,78],"slot_index":0}],"properties":{"Node name for S&R":"Image Overlay"},"widgets_values":["None","nearest-exact",1,512,512,0,0,0,0]},{"id":50,"type":"StyleModelApply","pos":{"0":2196,"1":-302},"size":{"0":393,"1":122},"flags":{},"order":28,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":73},{"name":"style_model","type":"STYLE_MODEL","link":75},{"name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":76}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[74],"slot_index":0}],"properties":{"Node name for S&R":"StyleModelApply"},"widgets_values":[1,"multiply"]},{"id":51,"type":"StyleModelLoader","pos":{"0":2100,"1":-723},"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"STYLE_MODEL","type":"STYLE_MODEL","links":[75]}],"properties":{"Node name for S&R":"StyleModelLoader"},"widgets_values":["flux1-redux-dev.safetensors"]},{"id":52,"type":"CLIPVisionEncode","pos":{"0":2078,"1":-605},"size":{"0":380.4000244140625,"1":78},"flags":{},"order":26,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":77},{"name":"image","type":"IMAGE","link":78}],"outputs":[{"name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","links":[76]}],"properties":{"Node name for S&R":"CLIPVisionEncode"},"widgets_values":["center"]},{"id":38,"type":"ImageCrop+","pos":{"0":3387,"1":79},"size":{"0":315,"1":194},"flags":{},"order":32,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":51},{"name":"width","type":"INT","link":52,"widget":{"name":"width"}},{"name":"height","type":"INT","link":53,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[54],"slot_index":0},{"name":"x","type":"INT","links":null},{"name":"y","type":"INT","links":null}],"properties":{"Node name for S&R":"ImageCrop+"},"widgets_values":[256,256,"top-left",0,0]},{"id":28,"type":"ImageConcanate","pos":{"0":3068,"1":686},"size":{"0":315,"1":102},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":31},{"name":"image2","type":"IMAGE","link":32}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[34],"slot_index":0}],"properties":{"Node name for S&R":"ImageConcanate"},"widgets_values":["right",true]},{"id":40,"type":"SaveImage","pos":{"0":3038,"1":296},"size":[315,270],"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":56}],"outputs":[],"properties":{},"widgets_values":["ComfyUI"]},{"id":23,"type":"ImageResizeKJ","pos":{"0":825,"1":310},"size":{"0":315,"1":266},"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":60},{"name":"get_image_size","type":"IMAGE","link":null,"shape":7},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"shape":7},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"shape":7}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[61],"slot_index":0},{"name":"width","type":"INT","links":[],"slot_index":1},{"name":"height","type":"INT","links":[],"slot_index":2}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[0,1024,"nearest-exact",true,2,0,0,"disabled"]},{"id":42,"type":"LayerMask: BiRefNetUltraV2","pos":{"0":1226,"1":188},"size":{"0":352.79998779296875,"1":246},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":61},{"name":"birefnet_model","type":"BIREFNET_MODEL","link":57}],"outputs":[{"name":"image","type":"IMAGE","links":[62,63],"slot_index":0},{"name":"mask","type":"MASK","links":null}],"properties":{"Node name for S&R":"LayerMask: BiRefNetUltraV2"},"widgets_values":["VITMatte",4,2,0.01,0.99,false,"cuda",2],"color":"rgba(27, 80, 119, 0.7)"},{"id":43,"type":"LayerMask: LoadBiRefNetModel","pos":{"0":803,"1":192},"size":{"0":378,"1":58},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"birefnet_model","type":"BIREFNET_MODEL","links":[57]}],"properties":{"Node name for S&R":"LayerMask: LoadBiRefNetModel"},"widgets_values":["BiRefNet-general-epoch_244.pth"],"color":"rgba(27, 80, 119, 0.7)"},{"id":14,"type":"LoadImage","pos":{"0":254,"1":250},"size":{"0":315,"1":314},"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[60],"slot_index":0},{"name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1740318604265_ComfyUI_00001_ (79).png","image"]},{"id":15,"type":"LoadImage","pos":{"0":1160,"1":721},"size":{"0":315,"1":314},"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[16],"slot_index":0},{"name":"MASK","type":"MASK","links":[55],"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-3937094.5.png [input]","image"]},{"id":6,"type":"CLIPTextEncode","pos":{"0":1752,"1":-134},"size":{"0":400,"1":200},"flags":{},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":47}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3,5],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":36,"type":"LoadLoraFromHF","pos":{"0":1567,"1":-404},"size":[300.6915968248718,150],"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":44},{"name":"clip","type":"CLIP","link":45}],"outputs":[{"name":"MODEL","type":"MODEL","links":[48],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[47],"slot_index":1}],"properties":{"Node name for S&R":"LoadLoraFromHF"},"widgets_values":[1,1,"ali-vilab/ACE_Plus","subject/comfyui_subject_lora16.safetensors"]},{"id":2,"type":"DualCLIPLoader","pos":{"0":868,"1":-231},"size":{"0":315,"1":130},"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[45],"slot_index":0}],"properties":{"Node name for S&R":"DualCLIPLoader"},"widgets_values":["clip_l.safetensors","t5xxl_fp8_e4m3fn.safetensors","flux","default"]}],"links":[[3,6,0,7,0,"CONDITIONING"],[5,6,0,9,0,"CONDITIONING"],[6,9,0,8,1,"CONDITIONING"],[7,3,0,8,2,"VAE"],[9,11,0,10,0,"MODEL"],[10,8,0,10,1,"CONDITIONING"],[11,8,1,10,2,"CONDITIONING"],[12,8,2,10,3,"LATENT"],[13,10,0,12,0,"LATENT"],[14,3,0,12,1,"VAE"],[16,15,0,16,0,"IMAGE"],[25,16,0,24,0,"IMAGE"],[30,22,0,27,0,"MASK"],[31,27,0,28,0,"IMAGE"],[32,26,0,28,1,"IMAGE"],[34,28,0,31,0,"IMAGE"],[36,24,0,8,3,"IMAGE"],[37,31,0,8,4,"MASK"],[44,1,0,36,0,"MODEL"],[45,2,0,36,1,"CLIP"],[47,36,1,6,0,"CLIP"],[48,36,0,11,0,"MODEL"],[51,12,0,38,0,"IMAGE"],[52,16,1,38,1,"INT"],[53,16,2,38,2,"INT"],[54,38,0,39,0,"IMAGE"],[55,15,1,22,0,"MASK"],[56,24,0,40,0,"IMAGE"],[57,43,0,42,1,"BIREFNET_MODEL"],[60,14,0,23,0,"IMAGE"],[61,23,0,42,0,"IMAGE"],[62,42,0,46,1,"IMAGE"],[63,42,0,47,0,"IMAGE"],[64,47,0,48,0,"INT"],[65,47,1,48,1,"INT"],[66,48,0,49,0,"MASK"],[67,49,0,46,0,"IMAGE"],[68,46,0,24,1,"IMAGE"],[69,47,0,26,0,"INT"],[70,47,1,26,1,"INT"],[71,47,0,46,3,"INT"],[72,47,1,46,4,"INT"],[73,7,0,50,0,"CONDITIONING"],[74,50,0,8,0,"CONDITIONING"],[75,51,0,50,1,"STYLE_MODEL"],[76,52,0,50,2,"CLIP_VISION_OUTPUT"],[77,53,0,52,0,"CLIP_VISION"],[78,46,0,52,1,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6727499949325935,"offset":[-628.6878389335495,474.59651682456644]},"node_versions":{"comfy-core":"0.3.13","comfyui_segment_anything":"ab6395596399d5048639cdab7e44ec9fae857a93","ComfyUI_essentials":"ef704350e7d44d3dc744d1b386cc65dd3e93a090","ComfyUI-Impact-Pack":"348c3dcb6b3f9e5fe42f184a01df0bb22b7bfc8d","ComfyUI-KJNodes":"9a3434ffa335a16949aa4c3196a2cd37ba7b4876","ComfyUI_Patches_ll":"1acfbbd58848f7f7a40b1e5c7f88d1be876f4938"}},"version":0.4}